<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">

  
  <title>readMe.html</title>
</head>


<body>

<h1>INSTALLATION</h1>

Thank you for downloading FriKomPort. The latest version and
information about the FriKom project can be found at
https://projects.unified.no/x/AoAM.<br>

<br>

This is the Java part of the FriKom application, and this takes care of everything that has to do with the courses/classes:<br>

<ul>

  <li>Add, modify and remove courses</li>

  <li>Add, modify and remove locations</li>

  <li>Add, modify and remove instructors</li>

  <li>Send e-mail notifications for different events</li>

  <li>Handle attachments</li>

  <li>and more</li>

</ul>

To get started, you need to configure your database settings, tomcat-settings and e-mail settings.<br>

<h2>REQUIREMENTS</h2>

The following components are required to start developing on this project:<br>

<ul>

  <li>Apache Tomcat version 5 or higher</li>

  <li>SUN JDK 5.0 or higher</li>

  <li>Apache Ant</li>

  <li>MySQL v4.1.0 or higher</li>

  <li>The FriKom eZ-publish project</li>

</ul>

<h2>CONFIGURATION</h2>

<h3>ENVIRONMENT VARIABLES</h3>

<span style="font-weight: bold;">$CATALINE_HOME</span> must point to your Tomcat installation folder.<br>

<span style="font-weight: bold;">$JAVA_HOME</span> must point to your Java installation folder.<br>

<span style="font-weight: bold;">$ANT_HOME</span> must point to your Ant installation folder.
<h3>TOMCAT SETTINGS<br>

</h3>

<ul>

  <li>In properties.xml the following settings might come in handy</li>

  
  <ul>

    <li>http.port - the port the Tomcat instance is listening on</li>

    <li>https.port - the SSL enabled port the Tomcat instance is listening on</li>

    <li>tomcat.server - the host on which the Tomcat server is running<br>

    </li>

  
  </ul>

</ul>

<h3>DATABASE SETTINGS</h3>

Some configuration is in most cases needed to get the database connection up and running.<br>

To customize these settings for your need, follow the instructions under.<br>

<br>

<ul>

  <li>The password for the root user of the MySQL instance must be set in "database.admin.password" in the <span style="font-weight: bold;">build.properties</span> file found in&nbsp;the root folder.</li>

  <li>In <span style="font-weight: bold;">properties.xml</span>, found in the root folder, there are several properties that needs to be set:</li>

  
  <ul>

    <li>&nbsp;&nbsp; &nbsp;database.name - The name of the schema that
will contain the data. The structure and sample-data for this will be
created upon building the application.</li>

    <li>database.host - The host name of the computer that hosts the mysql instance</li>

    <li>database.username - The user name of the user that the application will use to communicate with the database</li>

    <li>database.password - The password of the database.username user</li>

    <li>database.admin.url - The JDBC connection string for administration of the database (for the root user)</li>

    <li>database.admin.username - The name of the superuser. In most cases, "root" is a good choice.</li>

    <li>database.admin.password - The password of the superuser</li>

    <li>database.url - The JDBC connection string for the database.<br>

    </li>

  
  </ul>

</ul>

<ul>

  <li>In <span style="font-weight: bold;">web\WEB-INF\classes\ApplicationResources.properties</span> several properties needs to be modified</li>

  
  <ul>

    <li>ezpublish.database.url - Holds the JDBC location of the ezpublish database</li>

    <li>ezpublish.database.username - Holds the user name used for
connecting to the ezpublish database. Note that this user only needs
permission to read from this database.</li>

    <li>ezpublish.database.password - Holds the password for connecting to the ezpublish database.<br>

    </li>

  
  </ul>

</ul>

<h3>EMAIL SETTINGS</h3>

<ul>

  <li>In the "error.mailTo" attribute in <span style="font-weight: bold;">build.properties</span>
you can set where you want errors sent. You might want to change the
"errors.mailHost" and "errors.server" attributes as well. This feature
is not used much, but you should still provide the correct information
here.</li>

  <li>In&nbsp;<span style="font-weight: bold;">web\WEB-INF\classes\ApplicationResources.properties</span> you might want to look over all the properties:</li>

  
  <ul>

    <li>mail.default.from - The e-mail address as a from-address when sending e-mails from the application.</li>

    <li>mail.host - The host on which the SMTP server to be used can be found</li>

    <li>mail.username - (optional) The username used for the SMTP server if it requires user name and password</li>

    <li>mail.password - (optional) The password user for the SMTP server if it requires user name and password<br>

    </li>

  
  </ul>

</ul>

<h3>OTHER SETTINGS</h3>

There are some misc settings that need to be reviewed.<br>

<ul>

  <li>In <span style="font-weight: bold;">web\WEB-INF\classes\ApplicationResources.properties</span> several properties needs to be modified</li>

  
  <ul>

    <li>javaapp.baseurl - Holds the external HTTP base string for eZ publish</li>

  
  </ul>

</ul>

<h2>BUILDING THE PROJECT</h2>

The project is developed using <a href="http://www.eclipse.org/">Eclipse</a>, and the build system is ANT-based. The project is based on the&nbsp;<a href="www.appfuse.org">AppFuse framework</a> (version 1.9.x), so that is a good place to look for information if there are problems with the configuration or building.<br>

The <span style="font-weight: bold;">build.xml</span> on the root folder of the project contains several targets, the most important are:<br>

<ul>

  <li>setup-db - Wipes the database clean (if it exists), rebuilds it and inserts sample-data into it.</li>

  <li>clean - Removes all .class-files</li>

  <li>compile - Does a full compilation of all layers of the code base</li>

  
  <ul>

    <li>compile-dao -Compiles the dao-layer</li>

    <li>compile-service - Compiles the service-layer</li>

    <li>compile-web - Compiles the web-layer</li>

  
  </ul>

  <li>deploy - Checks for changes and does necessary compilation. Then deploys the project to Tomcat</li>

  <li>setup - Does everything: Clean, setup-db, compile and deploy</li>

</ul>

For more information on building, see the build.xml file or read about it on the <a href="www.appfuse.org">AppFuse website</a>.<br>

<br>

We hope you enjoy this piece of software.<br>

</body>
</html>
